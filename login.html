<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login - Free CV Builder</title>
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 64 64'%3E%3Crect width='64' height='64' rx='12' fill='%232563eb'/%3E%3Cpath d='M20 14h16l8 8v28a4 4 0 0 1-4 4H20a4 4 0 0 1-4-4V18a4 4 0 0 1 4-4Z' fill='white' opacity='0.95'/%3E%3Cpath d='M36 14v10h10' fill='%23bfdbfe'/%3E%3Cpath d='M24 30h16M24 38h16M24 46h12' stroke='%232563eb' stroke-width='3' stroke-linecap='round'/%3E%3C/svg%3E" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #ffffff;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .auth-container {
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            padding: 40px;
            width: 100%;
            max-width: 400px;
            text-align: center;
        }

        .auth-header {
            margin-bottom: 32px;
        }

        .auth-header i {
            font-size: 48px;
            color: #2563eb;
            margin-bottom: 16px;
        }

        .auth-header h1 {
            font-size: 24px;
            font-weight: 600;
            color: #111827;
            margin-bottom: 8px;
        }

        .auth-header p {
            color: #6b7280;
            font-size: 16px;
        }

        .login-form {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .form-group {
            text-align: left;
        }

        .form-group label {
            display: block;
            font-size: 14px;
            font-weight: 500;
            color: #374151;
            margin-bottom: 8px;
        }

        .input-wrapper {
            position: relative;
        }

        .input-wrapper i {
            position: absolute;
            left: 12px;
            top: 50%;
            transform: translateY(-50%);
            color: #9ca3af;
            font-size: 16px;
        }

        .input-wrapper input {
            width: 100%;
            padding: 12px 12px 12px 40px;
            border: 1px solid #d1d5db;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.2s, box-shadow 0.2s;
        }

        .input-wrapper input:focus {
            outline: none;
            border-color: #2563eb;
            box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
        }

        .btn-login {
            background: #2563eb;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 500;
            cursor: pointer;
            transition: background 0.2s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .btn-login:hover {
            background: #1d4ed8;
        }

        .btn-login:disabled {
            background: #9ca3af;
            cursor: not-allowed;
        }

        .btn-google {
            background: white;
            color: #374151;
            border: 1px solid #d1d5db;
            padding: 12px 24px;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 500;
            cursor: pointer;
            transition: background 0.2s, border-color 0.2s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .btn-google:hover {
            background: #f9fafb;
            border-color: #9ca3af;
        }

        .divider {
            position: relative;
            text-align: center;
            margin: 24px 0;
        }

        .divider::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            height: 1px;
            background: #e5e7eb;
        }

        .divider span {
            background: white;
            padding: 0 16px;
            color: #6b7280;
            font-size: 14px;
            font-weight: 500;
        }

        .error-message {
            color: #dc2626;
            font-size: 14px;
            text-align: center;
            min-height: 20px;
            display: none;
        }

        .error-message.show {
            display: block;
        }

        .auth-footer {
            margin-top: 24px;
            text-align: center;
        }

        .auth-footer p {
            margin: 8px 0;
            font-size: 14px;
            color: #6b7280;
        }

        .auth-footer a {
            color: #2563eb;
            text-decoration: none;
            font-weight: 500;
        }

        .auth-footer a:hover {
            text-decoration: underline;
        }
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            width: 100%;
            max-width: 450px;
            padding: 50px 40px;
            animation: slideUp 0.8s ease-out;
        }

        .auth-header {
            text-align: center;
            margin-bottom: 40px;
        }

        .auth-header i {
            font-size: 3rem;
            color: #2563eb;
            margin-bottom: 15px;
            animation: pulse 2s infinite;
        }

        .auth-header h1 {
            font-size: 2rem;
            color: #1e293b;
            margin-bottom: 10px;
        }

        .auth-header p {
            color: #64748b;
            font-size: 1rem;
        }

        .form-group {
            margin-bottom: 25px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #1e293b;
        }

        .input-wrapper {
            position: relative;
        }

        .input-wrapper i {
            position: absolute;
            left: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: #64748b;
        }

        .form-group input {
            width: 100%;
            padding: 12px 15px 12px 45px;
            border: 2px solid #e2e8f0;
            border-radius: 10px;
            font-size: 1rem;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .form-group input:focus {
            outline: none;
            border-color: #2563eb;
            box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
            transform: translateY(-2px);
        }

        .form-group input:hover {
            border-color: #60a5fa;
        }

        .login-method-tabs {
            display: flex;
            margin-bottom: 25px;
            border-radius: 10px;
            overflow: hidden;
            border: 1px solid #e2e8f0;
        }

        .login-method-tab {
            flex: 1;
            padding: 12px;
            background: #f8fafc;
            border: none;
            cursor: pointer;
            font-size: 0.9rem;
            font-weight: 600;
            color: #64748b;
            transition: all 0.3s ease;
        }

        .login-method-tab.active {
            background: #2563eb;
            color: white;
        }

        .login-method-tab:hover:not(.active) {
            background: #e2e8f0;
        }

        .method-content {
            display: none;
        }

        .method-content.active {
            display: block;
        }

        .error-message {
            color: #ef4444;
            font-size: 0.9rem;
            margin-top: 8px;
            display: none;
        }

        .error-message.show {
            display: block;
        }

        .forgot-password {
            text-align: right;
            margin-bottom: 20px;
        }

        .forgot-password a {
            color: #2563eb;
            text-decoration: none;
            font-size: 0.9rem;
        }

        .forgot-password a:hover {
            text-decoration: underline;
        }

        .btn-login {
            width: 100%;
            padding: 15px;
            background: linear-gradient(135deg, #2563eb, #3b82f6);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            position: relative;
            overflow: hidden;
        }

        .btn-login::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.3);
            transform: translate(-50%, -50%);
            transition: width 0.6s, height 0.6s;
        }

        .btn-login:hover::before {
            width: 400px;
            height: 400px;
        }

        .btn-login:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(37, 99, 235, 0.4);
        }

        .btn-login:disabled {
            opacity: 0.7;
            cursor: not-allowed;
        }

        .divider {
            text-align: center;
            margin: 30px 0;
            position: relative;
        }

        .divider::before {
            content: '';
            position: absolute;
            left: 0;
            top: 50%;
            width: 100%;
            height: 1px;
            background: #e2e8f0;
        }

        .divider span {
            background: white;
            padding: 0 15px;
            position: relative;
            color: #64748b;
        }

        .signup-link {
            text-align: center;
            color: #64748b;
        }

        .signup-link a {
            color: #2563eb;
            text-decoration: none;
            font-weight: 600;
        }

        .signup-link a:hover {
            text-decoration: underline;
        }

        .back-home {
            text-align: center;
            margin-top: 20px;
        }

        .back-home a {
            color: #64748b;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 5px;
        }

        .back-home a:hover {
            color: #2563eb;
        }

        .setup-panel {
            margin-top: 18px;
            padding: 14px;
            border: 1px solid #e2e8f0;
            border-radius: 12px;
            background: #f8fafc;
            display: none;
        }

        .setup-panel h3 {
            font-size: 1rem;
            color: #0f172a;
            margin-bottom: 8px;
        }

        .setup-panel p {
            font-size: 0.92rem;
            color: #475569;
            margin-bottom: 10px;
            line-height: 1.4;
        }

        .setup-panel textarea {
            width: 100%;
            border: 1px solid #e2e8f0;
            border-radius: 10px;
            padding: 10px;
            min-height: 110px;
            font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
            font-size: 0.85rem;
        }

        .setup-actions {
            display: flex;
            gap: 10px;
            margin-top: 10px;
            flex-wrap: wrap;
        }

        .setup-actions .btn-login {
            width: auto;
            padding: 12px 14px;
            font-size: 0.95rem;
        }

        @media (max-width: 480px) {
            .auth-container {
                padding: 40px 30px;
            }

            .auth-header h1 {
                font-size: 1.5rem;
            }
        }
    </style>
</head>
<body>
    <div class="auth-container">
        <div class="auth-header">
            <i class="fas fa-file-alt"></i>
            <h1>Welcome to CV Builder</h1>
            <p>Sign in to save your CVs across devices</p>
        </div>

        <form class="login-form">
            <div class="form-group">
                <label for="email">Email</label>
                <div class="input-wrapper">
                    <i class="fas fa-envelope"></i>
                    <input type="email" id="email" placeholder="your@email.com" required>
                </div>
            </div>

            <div class="form-group">
                <label for="password">Password</label>
                <div class="input-wrapper">
                    <i class="fas fa-lock"></i>
                    <input type="password" id="password" placeholder="Your password" required>
                </div>
            </div>

            <div class="error-message" id="errorMessage"></div>

            <button type="submit" class="btn-login" id="loginBtn">
                <i class="fas fa-sign-in-alt"></i> Sign In
            </button>

            <div class="divider">
                <span>Sign in with your local account</span>
            </div>

            <div class="auth-footer">
                <p>Don't have an account? <a href="#" id="signupLink">Sign up</a></p>
                <p><a href="#" id="continueGuestLink">Continue as guest</a></p>
            </div>
        </form>
    </div>
                        <option value="+239">ðŸ‡¸ðŸ‡¹ +239 Sao Tome and Principe</option>
                        <option value="+240">ðŸ‡¬ðŸ‡¶ +240 Equatorial Guinea</option>
                        <option value="+241">ðŸ‡¬ðŸ‡¦ +241 Gabon</option>
                        <option value="+242">ðŸ‡¨ðŸ‡¬ +242 Republic of the Congo</option>
                        <option value="+243">ðŸ‡¨ðŸ‡© +243 DRC</option>
                        <option value="+244">ðŸ‡¦ðŸ‡´ +244 Angola</option>
                        <option value="+245">ðŸ‡¬ðŸ‡¼ +245 Guinea-Bissau</option>
                        <option value="+246">ðŸ‡®ðŸ‡´ +246 British Indian Ocean Territory</option>
                        <option value="+247">ðŸ‡¦ðŸ‡¨ +247 Ascension Island</option>
                        <option value="+248">ðŸ‡¸ðŸ‡¨ +248 Seychelles</option>
                        <option value="+249">ðŸ‡¸ðŸ‡© +249 Sudan</option>
                        <option value="+250">ðŸ‡·ðŸ‡¼ +250 Rwanda</option>
                        <option value="+251">ðŸ‡ªðŸ‡¹ +251 Ethiopia</option>
                        <option value="+252">ðŸ‡¸ðŸ‡´ +252 Somalia</option>
                        <option value="+253">ðŸ‡©ðŸ‡¯ +253 Djibouti</option>
                        <option value="+254">ðŸ‡°ðŸ‡ª +254 Kenya</option>
                        <option value="+255">ðŸ‡¹ðŸ‡¿ +255 Tanzania</option>
                        <option value="+256">ðŸ‡ºðŸ‡¬ +256 Uganda</option>
                        <option value="+257">ðŸ‡§ðŸ‡® +257 Burundi</option>
                        <option value="+258">ðŸ‡²ðŸ‡¿ +258 Mozambique</option>
                        <option value="+259">ðŸ‡¿ðŸ‡² +259 Zambia</option>
                        <option value="+260">ðŸ‡¿ðŸ‡² +260 Zambia</option>
                        <option value="+261">ðŸ‡²ðŸ‡¬ +261 Madagascar</option>
                        <option value="+262">ðŸ‡·ðŸ‡ª +262 Reunion</option>
                        <option value="+263">ðŸ‡¿ðŸ‡¼ +263 Zimbabwe</option>
                        <option value="+264">ðŸ‡³ðŸ‡¦ +264 Namibia</option>
                        <option value="+265">ðŸ‡²ðŸ‡¼ +265 Malawi</option>
                        <option value="+266">ðŸ‡±ðŸ‡¸ +266 Lesotho</option>
                        <option value="+267">ðŸ‡§ðŸ‡¼ +267 Botswana</option>
                        <option value="+268">ðŸ‡¸ðŸ‡¿ +268 Swaziland</option>
                        <option value="+269">ðŸ‡°ðŸ‡² +269 Comoros</option>
                        <option value="+290">ðŸ‡¸ðŸ‡­ +290 Saint Helena</option>
                        <option value="+291">ðŸ‡ªðŸ‡· +291 Eritrea</option>
                        <option value="+297">ðŸ‡¦ðŸ‡¼ +297 Aruba</option>
                        <option value="+298">ðŸ‡«ðŸ‡´ +298 Faroe Islands</option>
                        <option value="+299">ðŸ‡¬ðŸ‡± +299 Greenland</option>
                        <option value="+350">ðŸ‡¬ðŸ‡® +350 Gibraltar</option>
                        <option value="+351">ðŸ‡µðŸ‡¹ +351 Portugal</option>
                        <option value="+352">ðŸ‡±ðŸ‡º +352 Luxembourg</option>
                        <option value="+353">ðŸ‡®ðŸ‡ª +353 Ireland</option>
                        <option value="+354">ðŸ‡®ðŸ‡¸ +354 Iceland</option>
                        <option value="+355">ðŸ‡¦ðŸ‡± +355 Albania</option>
                        <option value="+356">ðŸ‡²ðŸ‡¹ +356 Malta</option>
                        <option value="+357">ðŸ‡¨ðŸ‡¾ +357 Cyprus</option>
                        <option value="+358">ðŸ‡«ðŸ‡® +358 Finland</option>
                        <option value="+359">ðŸ‡§ðŸ‡¬ +359 Bulgaria</option>
                        <option value="+370">ðŸ‡±ðŸ‡¹ +370 Lithuania</option>
                        <option value="+371">ðŸ‡±ðŸ‡» +371 Latvia</option>
                        <option value="+372">ðŸ‡ªðŸ‡ª +372 Estonia</option>
                        <option value="+373">ðŸ‡²ðŸ‡© +373 Moldova</option>
                        <option value="+374">ðŸ‡¦ðŸ‡² +374 Armenia</option>
                        <option value="+375">ðŸ‡§ðŸ‡¾ +375 Belarus</option>
                        <option value="+376">ðŸ‡¦ðŸ‡© +376 Andorra</option>
                        <option value="+377">ðŸ‡²ðŸ‡¨ +377 Monaco</option>
                        <option value="+378">ðŸ‡¸ðŸ‡² +378 San Marino</option>
                        <option value="+380">ðŸ‡ºðŸ‡¦ +380 Ukraine</option>
                        <option value="+381">ðŸ‡·ðŸ‡¸ +381 Serbia</option>
                        <option value="+382">ðŸ‡²ðŸ‡ª +382 Montenegro</option>
                        <option value="+383">ðŸ‡½ðŸ‡° +383 Kosovo</option>
                        <option value="+385">ðŸ‡­ðŸ‡· +385 Croatia</option>
                        <option value="+386">ðŸ‡¸ðŸ‡® +386 Slovenia</option>
                        <option value="+387">ðŸ‡§ðŸ‡¦ +387 Bosnia and Herzegovina</option>
                        <option value="+389">ðŸ‡²ðŸ‡° +389 Macedonia</option>
                        <option value="+420">ðŸ‡¨ðŸ‡¿ +420 Czech Republic</option>
                        <option value="+421">ðŸ‡¸ðŸ‡° +421 Slovakia</option>
                        <option value="+423">ðŸ‡±ðŸ‡® +423 Liechtenstein</option>
                        <option value="+500">ðŸ‡«ðŸ‡° +500 Falkland Islands</option>
                        <option value="+501">ðŸ‡§ðŸ‡¿ +501 Belize</option>
                        <option value="+502">ðŸ‡¬ðŸ‡¹ +502 Guatemala</option>
                        <option value="+503">ðŸ‡¸ðŸ‡» +503 El Salvador</option>
                        <option value="+504">ðŸ‡­ðŸ‡³ +504 Honduras</option>
                        <option value="+505">ðŸ‡³ðŸ‡® +505 Nicaragua</option>
                        <option value="+506">ðŸ‡¨ðŸ‡· +506 Costa Rica</option>
                        <option value="+507">ðŸ‡µðŸ‡¦ +507 Panama</option>
                        <option value="+508">ðŸ‡µðŸ‡² +508 Saint Pierre and Miquelon</option>
                        <option value="+509">ðŸ‡­ðŸ‡¹ +509 Haiti</option>
                        <option value="+590">ðŸ‡¬ðŸ‡µ +590 Guadeloupe</option>
                        <option value="+591">ðŸ‡§ðŸ‡´ +591 Bolivia</option>
                        <option value="+592">ðŸ‡¬ðŸ‡¾ +592 Guyana</option>
                        <option value="+593">ðŸ‡ªðŸ‡¨ +593 Ecuador</option>
                        <option value="+594">ðŸ‡¬ðŸ‡« +594 French Guiana</option>
                        <option value="+595">ðŸ‡µðŸ‡¾ +595 Paraguay</option>
                        <option value="+596">ðŸ‡²ðŸ‡¶ +596 Martinique</option>
                        <option value="+597">ðŸ‡¸ðŸ‡· +597 Suriname</option>
                        <option value="+598">ðŸ‡ºðŸ‡¾ +598 Uruguay</option>
                        <option value="+599">ðŸ‡¨ðŸ‡¼ +599 Curacao</option>
                        <option value="+670">ðŸ‡¹ðŸ‡± +670 Timor-Leste</option>
                        <option value="+672">ðŸ‡¦ðŸ‡¶ +672 Antarctica</option>
                        <option value="+673">ðŸ‡§ðŸ‡³ +673 Brunei</option>
                        <option value="+674">ðŸ‡³ðŸ‡· +674 Nauru</option>
                        <option value="+675">ðŸ‡µðŸ‡¬ +675 Papua New Guinea</option>
                        <option value="+676">ðŸ‡¹ðŸ‡´ +676 Tonga</option>
                        <option value="+677">ðŸ‡¸ðŸ‡§ +677 Solomon Islands</option>
                        <option value="+678">ðŸ‡»ðŸ‡º +678 Vanuatu</option>
                        <option value="+679">ðŸ‡«ðŸ‡¯ +679 Fiji</option>
                        <option value="+680">ðŸ‡µðŸ‡¼ +680 Palau</option>
                        <option value="+681">ðŸ‡¼ðŸ‡« +681 Wallis and Futuna</option>
                        <option value="+682">ðŸ‡¨ðŸ‡° +682 Cook Islands</option>
                        <option value="+683">ðŸ‡³ðŸ‡º +683 Niue</option>
                        <option value="+684">ðŸ‡¦ðŸ‡¸ +684 American Samoa</option>
                        <option value="+685">ðŸ‡¼ðŸ‡¸ +685 Samoa</option>
                        <option value="+686">ðŸ‡°ðŸ‡® +686 Kiribati</option>
                        <option value="+687">ðŸ‡³ðŸ‡¨ +687 New Caledonia</option>
                        <option value="+688">ðŸ‡¹ðŸ‡» +688 Tuvalu</option>
                        <option value="+689">ðŸ‡µðŸ‡« +689 French Polynesia</option>
                        <option value="+690">ðŸ‡¹ðŸ‡° +690 Tokelau</option>
                        <option value="+691">ðŸ‡«ðŸ‡² +691 Micronesia</option>
                        <option value="+692">ðŸ‡²ðŸ‡­ +692 Marshall Islands</option>
                        <option value="+850">ðŸ‡°ðŸ‡µ +850 North Korea</option>
                        <option value="+852">ðŸ‡­ðŸ‡° +852 Hong Kong</option>
                        <option value="+853">ðŸ‡²ðŸ‡´ +853 Macau</option>
                        <option value="+855">ðŸ‡°ðŸ‡­ +855 Cambodia</option>
                        <option value="+856">ðŸ‡±ðŸ‡¦ +856 Laos</option>
                        <option value="+880">ðŸ‡§ðŸ‡© +880 Bangladesh</option>
                        <option value="+886">ðŸ‡¹ðŸ‡¼ +886 Taiwan</option>
                        <option value="+960">ðŸ‡²ðŸ‡» +960 Maldives</option>
                        <option value="+961">ðŸ‡±ðŸ‡§ +961 Lebanon</option>
                        <option value="+962">ðŸ‡¯ðŸ‡´ +962 Jordan</option>
                        <option value="+963">ðŸ‡¸ðŸ‡¾ +963 Syria</option>
                        <option value="+964">ðŸ‡®ðŸ‡¶ +964 Iraq</option>
                        <option value="+965">ðŸ‡°ðŸ‡¼ +965 Kuwait</option>
                        <option value="+966">ðŸ‡¸ðŸ‡¦ +966 Saudi Arabia</option>
                        <option value="+967">ðŸ‡¾ðŸ‡ª +967 Yemen</option>
                        <option value="+968">ðŸ‡´ðŸ‡² +968 Oman</option>
                        <option value="+970">ðŸ‡µðŸ‡¸ +970 Palestine</option>
                        <option value="+971">ðŸ‡¦ðŸ‡ª +971 UAE</option>
                        <option value="+972">ðŸ‡®ðŸ‡± +972 Israel</option>
                        <option value="+973">ðŸ‡§ðŸ‡­ +973 Bahrain</option>
                        <option value="+974">ðŸ‡¶ðŸ‡¦ +974 Qatar</option>
                        <option value="+975">ðŸ‡§ðŸ‡¹ +975 Bhutan</option>
                        <option value="+976">ðŸ‡²ðŸ‡³ +976 Mongolia</option>
                        <option value="+977">ðŸ‡³ðŸ‡µ +977 Nepal</option>
                        <option value="+992">ðŸ‡¹ðŸ‡¯ +992 Tajikistan</option>
                        <option value="+993">ðŸ‡¹ðŸ‡² +993 Turkmenistan</option>
                        <option value="+994">ðŸ‡¦ðŸ‡¿ +994 Azerbaijan</option>
                        <option value="+995">ðŸ‡¬ðŸ‡ª +995 Georgia</option>
                        <option value="+996">ðŸ‡°ðŸ‡¬ +996 Kyrgyzstan</option>
                        <option value="+998">ðŸ‡ºðŸ‡¿ +998 Uzbekistan</option>
                    </select>
                    <input type="tel" id="phone" placeholder="300 1234567" required style="flex: 1;">
                </div>
            </div>
            <div class="error-message" id="errorMessage"></div>
            <div class="form-group">
                <button type="button" class="btn-login" id="sendPhoneCodeBtn">
                    <i class="fas fa-paper-plane"></i> Send OTP Code
                </button>
            </div>
            <div class="form-group" id="phoneCodeGroup" style="display: none;">
                <label for="phoneCode">Enter 6-digit OTP Code</label>
                <div class="input-wrapper">
                    <i class="fas fa-key"></i>
                    <input type="text" id="phoneCode" placeholder="123456" maxlength="6">
                </div>
                <button type="button" class="btn-login" id="verifyPhoneCodeBtn" style="margin-top: 10px;">
                    <i class="fas fa-check"></i> Verify & Login
                </button>
            </div>
            <p style="text-align: center; color: #64748b; font-size: 0.9rem; margin: 15px 0;">
                We'll send a 6-digit OTP code to your phone. Standard SMS rates apply.
            </p>
        </div>

        <div class="setup-panel" id="localInfoPanel">
            <h3>About Local Sign-In</h3>
            <p>
                Accounts stay in this browser only. Clear site data = sign out everywhere, so export your CV regularly.
            </p>
            <div class="setup-actions" style="gap: 10px;">
                <a class="btn-login" id="continueGuestLink" href="index.html" style="text-decoration:none; background: linear-gradient(135deg, #64748b, #94a3b8);">
                    <i class="fas fa-user"></i> Continue as Guest
                </a>
            </div>
        </div>

        <div class="back-home">
            <a id="backHomeLink" href="index.html">
                <i class="fas fa-arrow-left"></i> Back to Home
            </a>
        </div>
    </div>

    <script src="local-auth.js?v=20260111-1"></script>
    <script>
        (function () {
            const getSafeNextUrl = () => {
                try {
                    const params = new URLSearchParams(window.location.search);
                    const next = String(params.get('next') || '').trim();
                    if (!next) return 'index.html';
                    if (/^javascript:/i.test(next)) return 'index.html';
                    if (next.includes('://') || next.startsWith('//')) return 'index.html';
                    return next;
                } catch (err) {
                    return 'index.html';
                }
            };

            const errorEl = document.getElementById('errorMessage');
            const loginBtn = document.getElementById('loginBtn');
            const signupLink = document.getElementById('signupLink');
            const continueGuestLink = document.getElementById('continueGuestLink');
            const emailInput = document.getElementById('email');
            const passwordInput = document.getElementById('password');
            const form = document.querySelector('.login-form');

            const showError = (message) => {
                if (!errorEl) return;
                errorEl.textContent = message;
                errorEl.classList.add('show');
            };

            const clearError = () => {
                if (!errorEl) return;
                errorEl.classList.remove('show');
                errorEl.textContent = '';
            };

            const localAuth = window.LocalAuth;
            if (!localAuth) {
                showError('Local accounts are unavailable in this browser.');
                loginBtn.disabled = true;
                return;
            }

            const autoFillEmail = () => {
                try {
                    const params = new URLSearchParams(window.location.search);
                    const email = params.get('email');
                    if (email && emailInput) {
                        emailInput.value = email;
                        emailInput.focus();
                    }
                } catch (err) {
                    // ignore
                }
            };

            const setBusy = (busy) => {
                if (!loginBtn) return;
                loginBtn.disabled = !!busy;
                loginBtn.innerHTML = busy
                    ? '<i class="fas fa-spinner fa-spin"></i> Signing in...'
                    : '<i class="fas fa-sign-in-alt"></i> Sign In';
            };

            if (form) {
                form.addEventListener('submit', async (event) => {
                    event.preventDefault();
                    clearError();

                    const email = String(emailInput?.value || '').trim();
                    const password = String(passwordInput?.value || '').trim();

                    if (!email || !password) {
                        showError('Please enter both email and password.');
                        return;
                    }

                    setBusy(true);
                    try {
                        await localAuth.signIn({ email, password });
                        window.location.href = getSafeNextUrl();
                    } catch (err) {
                        const code = err?.code || 'unknown';
                        const messages = {
                            'missing-credentials': 'Email and password are required.',
                            'invalid-email': 'Enter a valid email address.',
                            'user-not-found': 'No account found with this email. Try signing up first.',
                            'wrong-password': 'Incorrect password. Please try again.',
                            default: 'Login failed. Please try again.'
                        };
                        showError(messages[code] || messages.default);
                    } finally {
                        setBusy(false);
                    }
                });
            }

            if (signupLink) {
                signupLink.addEventListener('click', (event) => {
                    event.preventDefault();
                    const email = encodeURIComponent(String(emailInput?.value || '').trim());
                    window.location.href = `signup.html?email=${email}`;
                });
            }

            if (continueGuestLink) {
                continueGuestLink.addEventListener('click', (event) => {
                    event.preventDefault();
                    window.location.href = getSafeNextUrl();
                });
            }

            const existing = localAuth.getCurrentUser();
            if (existing) {
                window.location.href = getSafeNextUrl();
                return;
            }

            autoFillEmail();
        })();
    </script>
</body>
</html>

